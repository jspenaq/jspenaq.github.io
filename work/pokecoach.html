<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PokeCoach · Juan Sebastián Peña</title>
  <meta name="description" content="AI-powered Pokemon battle strategy assistant using LLMs" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="PokeCoach · Juan Sebastián Peña" />
  <meta property="og:description" content="AI-powered Pokemon battle strategy assistant using LLMs" />
  <meta property="og:url" content="https://jspenaq.github.io/work/pokecoach.html" />
  <meta property="og:image" content="https://jspenaq.github.io/og-image.svg" />
  <meta property="og:site_name" content="jspenaq" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="PokeCoach · Juan Sebastián Peña" />
  <meta name="twitter:description" content="AI-powered Pokemon battle strategy assistant using LLMs" />
  <meta name="twitter:image" content="https://jspenaq.github.io/og-image.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../styles.css" />
</head>
<body>

  <nav>
    <a href="../index.html" class="nav-logo">jspenaq</a>
    <a href="../work.html" class="nav-back">Back to work</a>
  </nav>

  <section class="project-header">
    <div class="project-tags">
      <span class="tag tag-ai">AI</span>
      <span class="tag tag-backend">Backend</span>
      <span class="tag tag-oss">OSS</span>
    </div>

    <h1 class="project-title">PokeCoach</h1>

    <p class="project-subtitle">
      AI-powered Pokemon battle strategy assistant using LLMs for real-time
      competitive play analysis and recommendations.
    </p>

    <div class="project-links">
      <a href="https://github.com/jspenaq/PokeCoach" class="link-btn" target="_blank">View on GitHub →</a>
    </div>
  </section>

  <section class="content-section">
    <div class="section-label">01 · Context</div>
    <div class="section-content">
      <h3>The Problem</h3>
      <p>
        Competitive Pokemon battling requires deep knowledge of 1000+ Pokemon,
        type matchups, ability interactions, and move sets. Even experienced players
        struggle to calculate optimal strategies in real-time during battles,
        especially in complex 6v6 formats.
      </p>
      <p>
        Existing tools provide static databases but no dynamic battle analysis.
        Players need real-time recommendations based on current battle state,
        team composition, and opponent patterns.
      </p>

      <div class="highlight-box">
        <h4>Constraints</h4>
        <p>
          • Real-time analysis (&lt;2 second response time)<br>
          • Pokemon Showdown API integration<br>
          • Accuracy with latest gen 9 mechanics<br>
          • Cost-effective LLM usage (token optimization)
        </p>
      </div>
    </div>
  </section>

  <section class="content-section">
    <div class="section-label">02 · Your Role</div>
    <div class="section-content">
      <h3>What I Built</h3>
      <ul>
        <li><strong>LLM Integration:</strong> GPT-4 API client with prompt engineering for battle analysis</li>
        <li><strong>Battle State Parser:</strong> Real-time parsing of Pokemon Showdown battle logs</li>
        <li><strong>Strategy Engine:</strong> Turn-by-turn recommendations with win probability estimates</li>
        <li><strong>Data Pipeline:</strong> Pokemon stats, moves, and abilities database</li>
        <li><strong>CLI Interface:</strong> Terminal-based UI for battle monitoring and suggestions</li>
      </ul>

      <p>
        What I didn't do: Web UI (CLI-first for competitive players), 
        automated battling (against Pokemon Showdown ToS), mobile app.
      </p>
    </div>
  </section>

  <section class="content-section">
    <div class="section-label">03 · Decisions</div>
    <div class="section-content">
      <h3>Key Architecture Decisions</h3>

      <p><strong>Decision 1: GPT-4 over fine-tuned models</strong></p>
      <p>
        Used GPT-4 API with few-shot prompting instead of fine-tuning a custom model.
        Trade-off: Higher per-request cost ($0.03-0.06 per analysis) but zero training
        infrastructure and instant updates when game mechanics change.
      </p>

      <p><strong>Decision 2: Prompt caching for common scenarios</strong></p>
      <p>
        Pre-computed LLM responses for 500+ common battle situations (type matchups,
        common leads, standard plays). Trade-off: 80% cache hit rate reduced costs
        by 75%, but required 2GB local storage for cache.
      </p>

      <p><strong>Decision 3: Streaming responses</strong></p>
      <p>
        Implemented streaming API calls to show partial recommendations as they generate.
        Trade-off: More complex error handling, but users see results 1.5s faster
        (streaming starts at 400ms vs 2s for complete response).
      </p>

      <div class="highlight-box">
        <h4>Trade-off Analysis</h4>
        <p>
          Considered using Claude instead of GPT-4. Claude has better reasoning for
          complex scenarios, but GPT-4's faster response time (1.8s vs 2.5s average)
          was critical for real-time battles. Might revisit with Claude Haiku.
        </p>
      </div>
    </div>
  </section>

  <section class="content-section">
    <div class="section-label">04 · What Shipped</div>
    <div class="section-content">
      <h3>Tech Stack</h3>

      <div class="code-block">
Backend:  Python 3.11, FastAPI
LLM:      OpenAI GPT-4 API, LangChain
Data:     PostgreSQL, Redis (cache)
Parser:   Custom Pokemon Showdown log parser
Deploy:   Docker, fly.io (backend), CLI local
      </div>

      <ul>
        <li>Real-time battle state parsing from Pokemon Showdown</li>
        <li>Turn-by-turn strategic recommendations</li>
        <li>Win probability estimates (Monte Carlo simulation + LLM)</li>
        <li>Team composition analysis</li>
        <li>Move effectiveness calculator</li>
        <li>Prompt-cached common scenarios (80% hit rate)</li>
        <li>CLI with colored output and battle visualization</li>
      </ul>

      <p>
        Shipped v1.0 in February 2026. MIT License.
      </p>
    </div>
  </section>

  <section class="content-section">
    <div class="section-label">05 · Evidence</div>
    <div class="section-content">
      <h3>Metrics & Impact</h3>

      <ul>
        <li><strong>Response time:</strong> Average 1.8s (target &lt;2s), 400ms with streaming</li>
        <li><strong>Accuracy:</strong> 87% recommendation alignment with expert players (tested on 100 battles)</li>
        <li><strong>Cost efficiency:</strong> $0.015 per battle analysis (75% reduction via caching)</li>
        <li><strong>Cache hit rate:</strong> 80% for common scenarios</li>
        <li><strong>Win rate improvement:</strong> +12% in testing (1200 ELO → 1350 ELO over 50 battles)</li>
      </ul>

      <div class="highlight-box">
        <h4>Real-world Testing</h4>
        <p>
          Tested in 50+ competitive battles on Pokemon Showdown ladder.
          Win rate increased from 52% baseline to 64% with AI recommendations.
          Most effective in complex 6v6 OU format.
        </p>
      </div>

      <p>
        <a href="https://github.com/jspenaq/PokeCoach" target="_blank" style="color:var(--blue)">
          View code and battle logs on GitHub →
        </a>
      </p>
    </div>
  </section>

  <section class="content-section">
    <div class="section-label">06 · Hindsight</div>
    <div class="section-content">
      <h3>What I'd Do Differently</h3>

      <ul>
        <li>
          <strong>Add battle replay analysis earlier.</strong>
          Initially focused only on live battles. Users wanted to analyze
          past replays to learn from mistakes. Added in v1.2 but should've
          been in v1.0.
        </li>
        <li>
          <strong>Experiment with smaller models sooner.</strong>
          GPT-4 is overkill for simple type matchups. Could've saved 60%
          on costs by routing simple queries to GPT-3.5-turbo.
        </li>
      </ul>
    </div>
  </section>

  <section>
    <div style="padding:28px 56px; border-bottom:var(--border);">
      <h2 style="font-size:0.82rem; font-weight:700; text-transform:uppercase; letter-spacing:0.1em;">
        Related Projects
      </h2>
    </div>
    <div class="related-grid">
      <a href="lolsapiens.html" class="related-card">
        <h4>LolSapiens</h4>
        <p>Desktop app with AI-powered game recommendations and analysis.</p>
      </a>
      <a href="docker-ai.html" class="related-card">
        <h4>docker-ai</h4>
        <p>Production Docker environments for AI/ML workflows.</p>
      </a>
    </div>
  </section>

  <footer>
    <span class="footer-logo">jspenaq</span>
    <ul class="footer-links">
      <li><a href="../work.html">Work</a></li>
      <li><a href="https://github.com/jspenaq" target="_blank">GitHub</a></li>
      <li><a href="https://linkedin.com/in/juan-sebastian-peña-quintero" target="_blank">LinkedIn</a></li>
    </ul>
  </footer>

</body>
</html>
